---

---

<div id="emoji-container"></div>

<script>
    // @ts-ignore
    window.heartThis = async function (emoji) {
        const res = await fetch("/api/heart", {
            method: "POST",
            body: emoji,
        });
        // write back into emoji count
    };

    const emojiContainer = document.getElementById("emoji-container");

    async function loadEmojis() {
        const res = await fetch("/api/heart");
        const json = await res.json();
        const keys = Object.keys(json);
        for (const emoji of keys) {
            const count = json[emoji];
            emojiContainer.insertAdjacentHTML(
                "beforeend",
                `<div style="border: 1px solid darkgrey; padding: .25em; border-radius: 5px;" onclick="window.heartThis('${emoji}')">${emoji} (${count})</div>`,
            );
        }
    }

    loadEmojis();
</script>

<style>
    #emoji-container {
        display: flex;
        flex-direction: row;
        gap: 1em;
    }
</style>